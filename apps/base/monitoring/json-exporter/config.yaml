modules:
    ### MyStrom Power Usage
    mystrom:
        headers:
            X-Dummy: my-test-header
        metrics:
            - name: mystrom_power
              path: '{ .power }'
              help: The current power consumed by devices attached to the switch
              labels:
                mystrom: power
            - name: mystrom_relay
              path: '{ .relay }'
              help: The current state of the relay (wether or not the relay is currently turned on)
              labels:
                mystrom: relay
            - name: mystrom_temperature
              path: '{ .temperature }'
              help: The currently measured temperature by the switch. (Might initially be wrong, but will automatically correct itself over the span of a few hours)
              labels:
                mystrom: temperature
            - name: mystrom_Ws
              path: '{ .Ws }'
              help: The Ws field represents the average power value since the last call. It is the energy consumed divided by the time elapsed since the last call. Energy = Ws ∙ ∆T. For continous consumption measurements (Ws values with timestamp stored in DB) Total Energy = ∑Ws ∙ (Tcurrent - Tbegin).
              labels:
                mystrom: Ws
    ### UPS NUT
    nut_http:
        headers:
            X-Dummy: my-test-header
        metrics:
            - name: nut_http_status
              path: '{ .ups.statusnum }'
              help: Status Number. 1=Online, 2=Online&Charging, 3=On Battery, 4=Low Battery, 5=Shutdown Load
              labels:
                beeper_status: '{ .ups.beeper.status }'
                device_model: '{ .device.model }'
            - name: nut_http_runtime
              path: '{ .battery.runtime }'
              help: Battery runtime
            - name: nut_http_battery_voltage
              path: '{ .battery.voltage }'
              help: Battery battery_voltage
            - name: nut_http_charge
              path: '{ .battery.charge }'
              help: Battery charge
            - name: nut_http_input_voltage
              path: '{ .input.voltage }'
              help: Battery input_voltage
            - name: nut_http_load
              path: '{ .ups.load }'
              help: Battery load
            - name: nut_http_realpower_nominal
              path: '{ .ups.realpower.nominal }'
              help: Nominal Power
    ### TrueNAS Running SMART Tests
    truenas-smart-tests:
        headers:
            Authorization: ENC[AES256_GCM,data:NFclNjaeY5XbknmYt6w47UGUZ7l10B6QN1X1+G0LsGmYbKI6QBZQpaG8YLnU9OnIQDeMjpNjWf1VT2hxX9j+GwISm0ref5EG6g==,iv:v4CAWcc4zAbCd51MVwO7IVDzzpmB5RoqzO6CywF81Xo=,tag:Hh95McZDl7Rs2ptUxM555w==,type:str]
        metrics:
            - name: truenas_current_test
              type: object
              # path: '{ .values[?(@.state == "INACTIVE")] }'
              path: '{ [?(@.current_test != "null")] }'
              # path: '{ [*] }'
              labels:
                disk: '{ .disk }'
                serial: '{ .serial }'
                description: '{ .description }'
              values:
                percent_done: '{ .current_test.progress }'
    ### TrueNAS SMART per Disk
    truenas_smart_attributes_sda:
        headers:
            Authorization: ENC[AES256_GCM,data:GcP5wsn7/vXxC2UnLlv2nBNr8KdAvV/XEe3bbwAMOtCtiqWM8jzpoGxTKcxMjZhXg/XCzgsGr4VNVVN1sooFcL1EdDU2+eJfug==,iv:xRM04ptniMVJN+58SfIxS2h2qMa1oIeImUcZDAtCuIE=,tag:Kn/1frJ5a2H1UBiFJn46iA==,type:str]
        metrics:
            - name: truenas_smart_attributes_sda
              type: object
              path: '{ [*] }'
              help: todo
              labels:
                disk: sda
                id: '{ .id }'
                name: '{ .name }'
              values:
                value: '{ .value }'
                raw_value: '{ .raw.value }'
        body:
            content: |
                "sda"
    truenas_smart_attributes_sdb:
        headers:
            Authorization: ENC[AES256_GCM,data:hrk2++QjcFoFVdWqxZs1QOBpQrtNTilVGrLP1QzD/C6mOjr7yWIKVgHleUwCxjtVEIdjFfmXFoQQrOIZhN9XElWpI3y1P3RJ7A==,iv:jj4AHjPp5VlXs+fi3Qmm6BT1AFn+aOEY4YIBC6LoOaY=,tag:LBsPwZYQaVPANzgD0P5AFg==,type:str]
        metrics:
            - name: truenas_smart_attributes_sdb
              type: object
              path: '{ [*] }'
              help: todo
              labels:
                disk: sdb
                id: '{ .id }'
                name: '{ .name }'
              values:
                value: '{ .value }'
                raw_value: '{ .raw.value }'
        body:
            content: |
                "sdb"
    truenas_smart_attributes_sdc:
        headers:
            Authorization: ENC[AES256_GCM,data:agF3x9nc93QENR82grBc3QKXFmjTa/b5rTOa34vYD6Q8SWz4bijg8onLy8AwOc0+f72Ge0F4dOOJuVm13rkCZ8dMGCyZNeaVNQ==,iv:nKLr+o4Q5A7w+3Tt2DpDyb2iVa080MahOHl4JATTPNM=,tag:aIqKw6tILs1GITx6bqgA/g==,type:str]
        metrics:
            - name: truenas_smart_attributes_sdc
              type: object
              path: '{ [*] }'
              help: todo
              labels:
                disk: sdc
                id: '{ .id }'
                name: '{ .name }'
              values:
                value: '{ .value }'
                raw_value: '{ .raw.value }'
        body:
            content: |
                "sdc"
    truenas_smart_attributes_sdd:
        headers:
            Authorization: ENC[AES256_GCM,data:tgsaVoy07YudNF0MgsCvN0v2BQ7kdivNdL+RM1/jfdNmcaGrxp3IYiR9DT0uC6UWZT2FUoWC9Cs74Y1MzBB6KdkLqyOrP+jdHQ==,iv:Q4RjvuLd+Yy8R8SH056pceDY5KYUDoUnTuXmCYszb3c=,tag:OgRY/AWC2bEgSMy5oq4ocA==,type:str]
        metrics:
            - name: truenas_smart_attributes_sdd
              type: object
              path: '{ [*] }'
              help: todo
              labels:
                disk: sdd
                id: '{ .id }'
                name: '{ .name }'
              values:
                value: '{ .value }'
                raw_value: '{ .raw.value }'
        body:
            content: |
                "sdd"
    truenas_smart_attributes_sde:
        headers:
            Authorization: ENC[AES256_GCM,data:B/clADqoimo6e/WS1kVXgmggUgM3y4MjLG0B03gD2RG8Erc7IIbRmyxSQluhzkYzj3B3yS+z5z1ybh8zHTrt1fV5QY5q7YJt4g==,iv:/7EThnee7qkrbmtndwCKNmXaJiTZDOpd812ZSfY1ZVE=,tag:o+o6xOEErM27xmEVa9vVAw==,type:str]
        metrics:
            - name: truenas_smart_attributes_sde
              type: object
              path: '{ [*] }'
              help: todo
              labels:
                disk: sde
                id: '{ .id }'
                name: '{ .name }'
              values:
                value: '{ .value }'
                raw_value: '{ .raw.value }'
        body:
            content: |
                "sde"
    truenas_smart_attributes_sdf:
        headers:
            Authorization: ENC[AES256_GCM,data:GPWPhWRikS63T4b5OTz/qHGA7SXgZXOgiahEVmxR00y61/okCoisDHUvJ7kQrf1uBSjjO1GHEEo1XSeba7LTyxF8mMYRzD0o3A==,iv:q4v7CjFIU8e1hAYHxmJCwOVNQNd3RfWRLlc6kFYK9/w=,tag:r8oOH7lBJspdMUcOAuw3Rg==,type:str]
        metrics:
            - name: truenas_smart_attributes_sdf
              type: object
              path: '{ [*] }'
              help: todo
              labels:
                disk: sdf
                id: '{ .id }'
                name: '{ .name }'
              values:
                value: '{ .value }'
                raw_value: '{ .raw.value }'
        body:
            content: |
                "sdf"
    truenas_smart_attributes_sdg:
        headers:
            Authorization: ENC[AES256_GCM,data:EG3xKciWLO9xoNhfPXIJ2v/iAJi/IILxBBIpMHsC+6W3QgNrZxbiu9voNczEHnWPByn23J964EQ1M3doUPvT3nrXMJQN41BgDQ==,iv:2xZAJVeKsasVDpAGyJFHP0LYKzzkG11RQgg/8Rb6mYw=,tag:CcXGqeAMmZrl/AvTcS21BQ==,type:str]
        metrics:
            - name: truenas_smart_attributes_sdg
              type: object
              path: '{ [*] }'
              help: todo
              labels:
                disk: sdg
                id: '{ .id }'
                name: '{ .name }'
              values:
                value: '{ .value }'
                raw_value: '{ .raw.value }'
        body:
            content: |
                "sdg"
    truenas_smart_attributes_sdh:
        headers:
            Authorization: ENC[AES256_GCM,data:SZmJ1UchliplzA2ujuU/EDRCw6JH8Alz1P4L7b9OUVqJRVyzSenRAH/qEoKwcrlyQ6F2fMgKbyHv4ov6w3EcRa8097KE7XwUyQ==,iv:SdQsJQNG4/BZilpPVWMwDvnbZJj9qqaCW5KyHka+oBw=,tag:C7J5r6w9RqxeBtd9mLzMdQ==,type:str]
        metrics:
            - name: truenas_smart_attributes_sdh
              type: object
              path: '{ [*] }'
              help: todo
              labels:
                disk: sdh
                id: '{ .id }'
                name: '{ .name }'
              values:
                value: '{ .value }'
                raw_value: '{ .raw.value }'
        body:
            content: |
                "sdh"
    ### TrueNAS Datasets
    truenas-pool-dataset:
        headers:
            Authorization: ENC[AES256_GCM,data:NjWE4FfPjTtKiGofwkRQmKbjnqvCzzIRobSG+eCjhujmZe6PaPcxc6KQcBcDoityecT+R3kN+1ReqJ5ulrvaSv0/et/iKGTvkQ==,iv:rIDVwQhEEA7z6ewFRZc3TW0Ese/LxMq78R1oSD6CVCc=,tag:kU7GVQ4P+SkwNEm4Ie2auQ==,type:str]
        metrics:
            - name: truenas_pool_dataset
              type: object
              path: '{ [*] }'
              labels:
                mountpoint: '{ .mountpoint }'
              values:
                used: '{ .used.parsed }'
                usedbysnapshots: '{ .usedbysnapshots.parsed }'
                available: '{ .available.parsed }'
    ### TrueNAS Disk Temperatures
    truenas-disk-temperatures:
        headers:
            Authorization: ENC[AES256_GCM,data:EseemZGUrGpnGUQamfEZb7rNtUG9OiXaLQ801BmfR0S6PmEYKgCoGXE60s2TkAaFmnsuZcJG/P21Jzyggk6OxSwAEEYXNxdlHQ==,iv:s3Kk8EENsOuPPJ62DHNeaUanbIqMwQhMcuw+QB6eGYQ=,tag:g0zodb2FEoEVw5KSCeH0+A==,type:str]
        metrics:
            - name: truenas_disk_temperature
              path: '{ .sda }'
              labels:
                disk: sda
            - name: truenas_disk_temperature
              path: '{ .sdb }'
              labels:
                disk: sdb
            - name: truenas_disk_temperature
              path: '{ .sdc }'
              labels:
                disk: sdc
            - name: truenas_disk_temperature
              path: '{ .sdd }'
              labels:
                disk: sdd
            - name: truenas_disk_temperature
              path: '{ .sde }'
              labels:
                disk: sde
            - name: truenas_disk_temperature
              path: '{ .sdf }'
              labels:
                disk: sdf
            - name: truenas_disk_temperature
              path: '{ .sdg }'
              labels:
                disk: sdg
            - name: truenas_disk_temperature
              path: '{ .sdh }'
              labels:
                disk: sdh
        body:
            content: |
                {"names":["sda","sdb","sdc","sdd","sde","sdf","sdg","sdh"],"options":{}}
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1gte9z7ue3uk3a4088kx3hcsfcww4pdzenufcjcpaxkg225zcsfks4wfnem
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlYXB2aU9idDVuMVM4M0lH
            bXhFYXRONHBZOTBUUHlqQTA3UVhCMXJCZEVnCmtIbjQ2SlRDamVnZEVyZER4M29C
            ZWY5Y1NQbUVBbWZJRTFFMzVEaTdUZWcKLS0tIG00dUJjUC9XaG9DeHp4SnNNVUxU
            L3k1b0drdDF5cWV0TW5saDc5TWpHcVkKshiDkUAM+oGg0dIJ9cuZ70KJffBdioCW
            3M/M0vfs8faSs3CHpabV4kxOEayvL1Uaw0wzUUIoz3iFrOD0ao7z9w==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-03-03T21:47:36Z"
    mac: ENC[AES256_GCM,data:y115shkClAW5JhEDKj+JlgPHjJW6khmJO/DVPak3njPtvJmsY8MOnQOPybqdkaIz852Y9cFiOIXjA2SgDSrH5r3dGRZN93oFUnr2nteWw/jGkEX9O8weNX88yic42sPy2rtwktWf4Ro9stC6z2w+GsnmZ34+Puefy/e2Gj+fStI=,iv:l1h+Mc/iPCE7xV1N0n8hwNcvoSRGPpEO6we8fO234mc=,tag:T+LHiaBZtfiEo7hQQ0uvzQ==,type:str]
    pgp: []
    encrypted_regex: ^(Authorization).*$
    version: 3.8.1
